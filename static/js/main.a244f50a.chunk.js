(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{29:function(t,e,n){},50:function(t,e,n){},52:function(t,e,n){},53:function(t,e,n){},54:function(t,e,n){},55:function(t,e,n){},56:function(t,e,n){},77:function(t,e,n){},78:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),o=n(6),r=n.n(o),i=(n(29),n(11)),u=n(4),s=(n(30),n(8)),l=n(10),j=n.n(l),b=n(21),f=n(22),d=n.n(f),h=function(){var t=Object(b.a)(j.a.mark((function t(e,n){var c,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(n,"&key=21904508-8c5f9bb97b16d01f890abadf2&image_type=photo&orientation=horizontal&per_page=12"));case 2:return c=t.sent,a=c.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),m=n(12),O=n(24),g=(n(50),n(1)),p=["children","onClick"],x=function(t){var e=t.children,n=t.onClick,c=Object(O.a)(t,p);return Object(g.jsx)("button",Object(m.a)(Object(m.a)({type:"button",className:"iconButton",onClick:n},c),{},{children:e}))};x.defaultProps={onClick:function(){return null},children:null};var v=x,k=(n(52),function(t){var e=t.image,n=t.onImageClick;return Object(g.jsx)("li",{className:"ImageGalleryItem",children:Object(g.jsx)("img",{src:e.webformatURL,alt:e.tags,onClick:function(){return n(e.largeImageURL)},width:"250",height:"150"})})});k.defaultProps={tags:""};var C=k,w=(n(53),function(t){var e=t.images,n=t.onImageClick;return Object(g.jsx)("ul",{className:"gallery list",children:e.map((function(t){return Object(g.jsx)(C,{image:t,onImageClick:n},t.id)}))})}),y=(n(54),function(t){var e=t.onClick;return Object(g.jsx)("div",{children:Object(g.jsx)("button",{type:"button",className:"Button",onClick:e,children:"Load more"})})}),S=(n(55),function(t){var e=t.onSearch,n=Object(c.useState)(""),a=Object(u.a)(n,2),o=a[0],r=a[1],i=function(){return r("")};return Object(g.jsxs)("form",{onSubmit:function(t){t.preventDefault(),o.trim()&&(e(o),i())},className:"SearchForm",children:[Object(g.jsx)("button",{type:"submit",className:"buttonForm",children:Object(g.jsx)(s.b,{width:"20px",height:"20px",fill:"#7e7b7b"})}),Object(g.jsx)("input",{type:"text",className:"input",name:"query",value:o,onChange:function(t){var e=t.currentTarget.value;r(e)},autoComplete:"off",autoFocus:!0})]})}),N=(n(56),function(t){var e=t.onSubmit;return Object(g.jsx)("header",{className:"SearchBar",children:Object(g.jsx)(S,{onSearch:e})})}),I=n(23),E=n.n(I),F=function(){return Object(g.jsx)("div",{children:Object(g.jsx)(E.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})})},B=(n(77),document.querySelector("#modal-root")),L=function(t){var e=t.children,n=t.onClose;Object(c.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}}));var a=function(t){"Escape"===t.code&&n()};return Object(o.createPortal)(Object(g.jsx)("div",{className:"Overlay",onClick:function(t){t.currentTarget===t.target&&n()},children:Object(g.jsx)("div",{className:"Modal",children:e})}),B)};L.defaultProps={children:null};var P=L,M=function(){var t=Object(c.useState)(""),e=Object(u.a)(t,2),n=e[0],a=e[1],o=Object(c.useState)([]),r=Object(u.a)(o,2),l=r[0],j=r[1],b=Object(c.useState)(1),f=Object(u.a)(b,2),d=f[0],m=f[1],O=Object(c.useState)(!1),p=Object(u.a)(O,2),x=p[0],k=p[1],C=Object(c.useState)(""),S=Object(u.a)(C,2),I=(S[0],S[1]),E=Object(c.useState)(!1),B=Object(u.a)(E,2),L=B[0],M=B[1],q=Object(c.useState)({}),T=Object(u.a)(q,2),J=T[0],R=T[1],U=Object(c.useState)(0),_=Object(u.a)(U,2),z=_[0],D=_[1];Object(c.useEffect)((function(){n&&G()}),[n]);var G=function(){M(!0),console.log("fetchImages"),h(n,d).then((function(t){var e=t.hits,n=t.total;j((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),m((function(t){return t+1})),D(n),A()})).catch((function(t){return I(t)})).finally((function(){return M(!1)}))},H=function(){k((function(t){return!t}))},A=function(){window.scrollTo({top:document.documentElement.offsetHeight,behavior:"smooth",block:"end"})};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(N,{onSubmit:function(t){t!==n&&(a(t),j([]),m(1))}}),Object(g.jsx)(w,{images:l,onImageClick:function(t){R(t),H()}}),function(){return Math.ceil(z/12)!==d-1}&&Object(g.jsx)(y,{onClick:G}),x&&Object(g.jsxs)(P,{onClose:H,children:[Object(g.jsx)("div",{className:"Close-box",children:Object(g.jsx)(v,{onClick:H,"aria-label":"Close modal",children:Object(g.jsx)(s.a,{width:"20px",height:"20px",fill:"#7e7b7b"})})}),Object(g.jsx)("img",{src:J,alt:"",className:"Modal-image"})]}),L&&Object(g.jsx)(F,{})]})};r.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(M,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.a244f50a.chunk.js.map